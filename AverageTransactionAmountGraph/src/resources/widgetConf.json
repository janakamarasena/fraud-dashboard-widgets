{
    "name": "Average Transaction Amount Graph",
    "id": "AverageTransactionAmountGraph",
    "thumbnailURL": "",
    "configs": {
        "providerConfig": {
            "configs": {
                "type": "RDBMSBatchDataProvider",
                "config": {
                    "datasourceName": "TRA_DB",
                    "queryData": {
                        "query": "SELECT FROM_UNIXTIME(timestamp,'%b') as month, round(avg(amount), 2)  as amount, IF(isSCAApplied =1, 'SCA', 'EXEMPTED') as tra FROM TransactionsHistory WHERE FROM_UNIXTIME(timestamp) > SUBDATE(NOW(),90) GROUP BY  FROM_UNIXTIME(timestamp,'%b'), isSCAApplied order by month desc, tra desc #"
                    },
                    "incrementalColumn": "ID",
                    "publishingInterval": 10,
                    "purgingInterval": 60,
                    "publishingLimit": 1,
                    "purgingLimit": 60,
                    "isPurgingEnable": false
                }
            }
        }
    }
}